package com.example.fptacademysystem.repository;import com.example.fptacademysystem.model.Staff;import com.example.fptacademysystem.model.StaffAccount;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Modifying;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.query.Param;import org.springframework.stereotype.Repository;import org.springframework.transaction.annotation.Transactional;@Repositorypublic interface StaffAccountRepository extends JpaRepository<StaffAccount, Integer> {    @Query(value = "select * from staff_account where staffid = :staffid and removeat = 'No'", nativeQuery = true)    StaffAccount findAccountByStaffid(@Param("staffid")int staffid);    @Modifying(clearAutomatically = true)    @Transactional    @Query(value = "update staff_account set rollnum = :rollnum where staffid = :staffid and removeat = 'No'", nativeQuery = true)    void updateStaffRollnum(@Param("rollnum")String rollnum, @Param("staffid")int staffid);    // Query Login For Staff    @Query(value = "SELECT * FROM staff_account WHERE rollnum = :rollnum AND pass = :pass AND removeat = 'No'", nativeQuery = true)    StaffAccount checkStafftLogin(@Param("rollnum") String rollnum, @Param("pass") String pass);//    @Query("SELECT roleid FROM Staff WHERE staffid = (SELECT stac.staffid FROM staff_account stac WHERE stac.rollnum = :rollnum AND stac.pass = :pass AND stac.removeat = 'No')")//    StaffAccount checkStafftLogin(@Param("rollnum") String rollnum, @Param("pass") String pass);    @Query("SELECT s FROM StaffAccount s WHERE s.staffid = :staff")    StaffAccount findPStaffAccountByStaffId(Staff staff);}