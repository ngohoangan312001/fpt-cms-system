const showError = (input, message) => {    const formField = input.parentElement;    input.classList.remove('is-valid');    input.classList.add('is-invalid');    input.focus();    formField.classList.remove('success');    formField.classList.add('error');    // show message error with wrong input    const error = formField.querySelector('span');    error.textContent = message;};const showSuccess = (input) => {    const formField = input.parentElement;    input.classList.remove('is-invalid');    input.classList.add('is-valid');    formField.classList.remove('error');    formField.classList.add('success');    // hide message error    const error = formField.querySelector('span');    error.textContent = ''; // gán rỗng để ẩn message lỗi};//Check not nullconst check_input = (value) => {    if (value == '') {        return false;    } else {        return true;    }}//Check combo box different from 1 1const check_option = (value) => {    if (value == 0) {        return false;    } else {        return true;    }}const stringonly = /^(([a-zA-Z]+[ ]{1}|[a-zA-Z]+|[])+)$/;//get object from input form create + update departmentconst create_coursename = document.querySelector('#create_CourseName');const create_branchname = document.querySelector('#create_BranchName');const edit_coursename = document.querySelector('#edit_CourseName');const edit_branchname = document.querySelector('#edit_BranchName');// CRUD course formconst formcourse = document.querySelector('#newcourse');const formcoursesedit = document.querySelector('#updateCourse');//------check field in form new department-----------//check_name departmentconst check_create_coursename = () => {    var rs = false;    const coursename = create_coursename.value;    if (check_input(coursename) == false) {        showError(create_coursename, "Course name can not blank");    } else {        showSuccess(create_coursename);        rs = true;    }    return rs;}// Check branch subjectconst check_create_branch = () => {    var rs = false;    const branchid = create_branchname.value;    if (check_option(branchid) == false) {        showError(create_branchname, 'Branch subject can not be blank');    } else {        showSuccess(create_branchname);        rs = true;    }    return rs;}//--- check field in form edit -----const check_edit_coursename = () => {    var rs = false;    const coursename = edit_coursename.value;    if (check_input(coursename) == false) {        showError(edit_coursename, "Course name can not blank");    } else {        showSuccess(edit_coursename);        rs = true;    }    return rs;}// Check branch subjectconst check_edit_branch = () => {    var rs = false;    const branchid = edit_branchname.value;    if (check_option(branchid) == false) {        showError(edit_branchname, 'Branch subject can not be blank');    } else {        showSuccess(edit_branchname);        rs = true;    }    return rs;}formcourse.addEventListener('input', function(e) {    switch (e.target.id) {        //check short name        case ('create_CourseName'):            check_create_coursename();            break;        //check Subject name        case ('create_BranchName'):            check_create_branch();            break;    }});// Create new courseformcourse.addEventListener('submit', function(e) {    e.preventDefault();    let is_coursevalid = check_create_coursename();    let is_branchvalid = check_create_branch();    let check_valid = is_coursevalid && is_branchvalid;    if (check_valid == true) {        var formdata = {            cournm: create_coursename.value,            branchid: +create_branchname.value,            removeat: 'No',        }        $.ajax({            url: "/api/admin/course/courseCreate",            type: 'POST',            data: JSON.stringify(formdata),            cache: false,            contentType: 'application/json; charset=UTF-8',            processData: false,            success: function() {                Swal.fire({                    position: 'center',                    icon: 'success',                    title: 'Your work has been saved',                    showConfirmButton: false,                    timer: 1500                });                setTimeout("location.reload(true);", 2000);            },            error: function() {                Swal.fire({                    position: 'center',                    icon: 'success',                    title: 'Your work has been saved',                    showConfirmButton: false,                    timer: 1500                });                setTimeout("location.reload(true);", 2000);            }        });    }});// Edit departmentfunction doUpdateCourse(elem) {    var courseid = elem.querySelector('input').value;    $.ajax({        type: 'GET',        url: '/api/admin/course/courseFind/' + courseid,        success: function(result) {            $('#updateCourse #edit_id').val(result.courid);            $('#updateCourse #edit_CourseName').val(result.cournm);            $('#updateCourse #edit_BranchName').val(result.branchid);        },        error: function() {            $(document).ajaxError(function(event, xhr, options, exc) {                alert(event.reponseText);                alert(xhr.statusText);                alert(options.url);                alert(exc.reponseText);            })        }    });}formcoursesedit.addEventListener('input', function(e) {    switch (e.target.id) {        //check department name        case ('edit_CourseName'):            check_edit_coursename();            break;        case ('edit_BranchName'):            check_edit_branch();            break;    }});formcoursesedit.addEventListener('submit', function(e) {    e.preventDefault();    const editid = document.querySelector('#edit_id');    var formdata = {        courid: editid.value,        cournm: edit_coursename.value,        branchid: +edit_branchname.value,        removeat: 'No',    }    $.ajax({        url: '/api/admin/course/courseEdit',        type: 'PUT',        data: JSON.stringify(formdata),        cache: false,        contentType: 'application/json; charset=UTF-8',        processData: false,        success: function() {            Swal.fire({                position: 'center',                icon: 'success',                title: 'Your work has been saved',                showConfirmButton: false,                timer: 1000            });            setTimeout("location.reload(true);", 1000);        },        error: function() {            Swal.fire({                position: 'center',                icon: 'success',                title: 'Your work has been saved',                showConfirmButton: false,                timer: 1500            });            setTimeout("location.reload(true);", 2000);        }    });});// delete departmentfunction deleteCourse(elem) {    var courseid = elem.querySelector('input').value;    Swal.fire({        title: 'Do you want to delete ?',        showDenyButton: true,        showCancelButton: false,        confirmButtonText: `Yes`,        denyButtonText: `No`,    }).then((result) => {        /* Read more about isConfirmed, isDenied below */        if (result.isConfirmed) {            $.ajax({                type: 'PUT',                url: '/api/admin/course/courseDelete/' + courseid,                success: function() {                    Swal.fire('Deleted!', '', 'success');                    setTimeout("location.reload(true);", 1000);                },                error: function() {                    $(document).ajaxError(function(event, xhr, options, exc) {                        alert(event);                        alert(xhr.statusText);                        alert(options.url);                        alert(exc.reponseText);                    })                }            })        } else if (result.isDenied) {            Swal.fire('Nothing have been deleted', '', 'info');        }    });}