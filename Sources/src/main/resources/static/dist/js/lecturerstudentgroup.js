const runFirst = () => {    $.ajax({        url: '/api/lecturer/studentgroups/findbylecturerandcourse',        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            console.log(result);            var n = 3;            var number = [3];            while(n < (result.length - 1)){                n += n +1;                number.push(n);            }            console.log(number);            var str = '';            for(let i = 0; i < result.length; i++){                if(i === 0 || (i % 4 === 0)){                    str += `<div class="row row-cards mb-4">`;                    str += `<div class="col-lg-3">`;                    str += `<div class="row row-cards">`;                    str += `<div class="col-12">`;                    str += `<div class="card-deck">`;                    str += `<div class="card">`;                    str += `<div  class="card-body text-center ">`;                    str += `<h5 class="card-title text-center">`+result[i].stugronm+`</h5>`;                    str += `<h6 class="card-subtitle mb-2 text-muted text-uppercase badge bg-purple-lt">@`+result[i].branchnm+`&nbsp;-&nbsp;`+result[i].cournm+`</h6>`;                    str += `<ul class="list-group mt-3 mb-3" style="text-align: justify">`;                    str +=`<li class="list-group-item list-group-item-success">                       <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="11" r="3" /><path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z" /></svg>&nbsp;&nbsp;`+result[i].branchcamnm+`</li>`;                    str +=`<li class="list-group-item list-group-item-success">                       <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="18" y2="6.01" /><path d="M18 13l-3.5 -5a4 4 0 1 1 7 0l-3.5 5" /><polyline points="10.5 4.75 9 4 3 7 3 20 9 17 15 20 21 17 21 15" /><line x1="9" y1="4" x2="9" y2="17" /><line x1="15" y1="15" x2="15" y2="20" /></svg>&nbsp;&nbsp;`+result[i].address+`</li>`;                    str += `</ul>`;                    str += ` <div class="d-flex justify-content-center"><a onclick="findStudentInGroup(this)" class="card-btn btn btn-link btn-block" style="text-decoration: none !important; font-weight:600; text-transform: uppercase" data-bs-toggle="modal"                        data-bs-target="#modal-create-studentgroup">STUDENTS LIST<input type="hidden" value="`+result[i].stugroid+`"/></a></div>`                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                }else{                    str += `<div class="col-lg-3">`;                    str += `<div class="row row-cards">`;                    str += `<div class="col-12">`;                    str += `<div class="card-deck">`;                    str += `<div class="card">`;                    str += `<div  class="card-body text-center ">`;                    str += `<h5 class="card-title text-center">`+result[i].stugronm+`</h5>`;                    str += `<h6 class="card-subtitle mb-2 text-muted text-uppercase badge bg-purple-lt">@`+result[i].branchnm+`&nbsp;-&nbsp;`+result[i].cournm+`</h6>`;                    str += `<ul class="list-group mt-3 mb-3" style="text-align: justify">`;                    str +=`<li class="list-group-item list-group-item-success">                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="11" r="3" /><path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z" /></svg>&nbsp;&nbsp;`+result[i].branchcamnm+`</li>`;                    str +=`<li class="list-group-item list-group-item-success">                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="18" y2="6.01" /><path d="M18 13l-3.5 -5a4 4 0 1 1 7 0l-3.5 5" /><polyline points="10.5 4.75 9 4 3 7 3 20 9 17 15 20 21 17 21 15" /><line x1="9" y1="4" x2="9" y2="17" /><line x1="15" y1="15" x2="15" y2="20" /></svg>&nbsp;&nbsp;`+result[i].address+`</li>`;                    str += `</ul>`;                    str += ` <div class="d-flex justify-content-center"><a onclick="findStudentInGroup(this)" class="card-link btn btn-link btn-block" style="text-decoration: none !important; font-weight:600; text-transform: uppercase" data-bs-toggle="modal"                    data-bs-target="#modal-create-studentgroup">STUDENTS LIST<input type="hidden" value="`+result[i].stugroid+`"/></a></div>`                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                    str += `</div>`;                }                for(let j = 0; j < number.length; j++){                    if(number[j] === i){                        str += `</div>`;                    }                }            }            $('#renderSG').html(str);        }    });}const findStudentInGroup = (elem) =>{    var id = elem.querySelector('input').value;    $.ajax({        url: '/api/lecturer/subject/findstudentingroup/' + id,        type: "GET",        success: function(result){            console.log(result);            var str = ``;            if(result.length > 0){                str += `<div style="height:410px;overflow:auto;"><table class="table table-bordered">`;                str += `<thead>                        <tr>                        <th>No.</th>                        <th>Full Name</th>                        <th>Roll Number</th>                        <th>Email</th>                        <th>Student Status</th>                        </tr>                    </thead>`;                str += `<tbody>`;                for(var i = 0; i < result.length; i++){                    str += `<tr>`;                    str += `<td>`+Number(i+1)+`</td>`;                    str += `<td>`+result[i].studentRoll+`</td>`;                    str += `<td>`+result[i].studentName+`</td>`;                    str += `<td><a href="mailto:`+result[i].studentemail+`?subject=Mail from Our Site&body=Email Using Body">`+result[i].studentemail+`</a></td>`;                    if(result[i].cass === 'learn again'){                        str += `<td style="vertical-align: middle;"><span class="badge bg-yellow-lt">`+result[i].cass+`</span></td>`;                    }else{                        str += `<td style="vertical-align: middle;"><span class="badge bg-purple-lt">`+result[i].cass+`</span></td>`;                    }                    str += `</tr>`;                }                str += `</tbody>`;                str +=`</table></div>`;            }else{                str += `<table class="table table-bordered">`;                str += `<thead>                        <tr>                        <th>No.</th>                        <th>Lastname</th>                        <th>Email</th>                        </tr>                    </thead>`;                str += `<tbody>`;                str += `<tr><td colspan="3" class="text-center">No Data</td></tr>`                str += `</tbody>`;                str +=`</table>`;            }            $('#modal-create-studentgroup .modal-body').html(str);        }    });}// -------------------------------------------------------Search Student Group// Get All Branchfunction getAllBranchSearch() {    $.ajax({        url: '/api/admin/studentgroup/getAllBranch',        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="0" selected>--- Select Branch ---</option>';            for (var i in result) {                option += '<option class="branchCStuGropFuncSearch" value="' + result[i].branchid + '">' + result[i].branchnm + '</option>';            }            $("#BranchStudentGroupS").html(option);        }    });}//Get Course By Branch In Function Searchfunction getCoursesByBranchSearch(branchID) {    $.ajax({        url: '/api/admin/studentgroup/getCourseByBranch/' + branchID,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="0" selected>--- Select Course ---</option>';            for (var i in result) {                option += '<option class="courseCStuGropFuncSearch" value="' + result[i].courid + '">' + result[i].cournm + '</option>';            }            $("#CoursesStudentGroupS").html(option);        }    });}$("#optionSearchSG").on("change", function () {    switch ($('#optionSearchSG').val()) {        case 'allOptionSearchSG':            $("#divBranchStudentGroupS").hide();            $("#divSubjectStudentGroupS").hide();            $("#divCoursesStudentGroupS").hide();            break;        case 'CoursesOptionSearchSG':            $("#divBranchStudentGroupS").show();            $("#divSubjectStudentGroupS").hide();            $("#divCoursesStudentGroupS").show();            break;    }});// Function Search$("#optionSearchSG").on("change", function () {    $("#BranchStudentGroupS").val('0');    $("#CoursesStudentGroupS").val('0');});$("#BranchStudentGroupS").on("change", function () {    switch ($("#optionSearchSG").val()) {        case "CoursesOptionSearchSG":            getCoursesByBranchSearch($(this).val());            break;    }});$("#btnSearchStudentGroup").click(function () {    var option, coursesID;    var resultURL = '/api/lecturer/studentgroups';    option = $('#optionSearchSG').val();    switch (option) {        case 'allOptionSearchSG':            resultURL += '/findbylecturerandcourse';            console.log(resultURL);            break;        case 'CoursesOptionSearchSG':            coursesID = $('#CoursesStudentGroupS').val();            if(coursesID == '0' || coursesID == null){                Swal.fire({                    title: 'No Data',                    icon: 'warning',                    width: 600,                    padding: '3em',                    background: '#fff',                    backdrop: `                      rgba(0,0,123,0.4)                      url("/dist/img/teachers/nyan-cat.gif")                      left top                      no-repeat                    `                });                $('#renderSG').html('');            }            resultURL += '/findlecturerstudentgroupbycourse/' + coursesID;            break;    }    console.log(resultURL);    $.ajax({        url: resultURL,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            if(result.length > 0){                console.log(result);                var n = 3;                var number = [3];                while(n < (result.length - 1)){                    n += n +1;                    number.push(n);                }                console.log(number);                var str = '';                for(let i = 0; i < result.length; i++){                    if(i === 0 || (i % 4 === 0)){                        str += `<div class="row row-cards mb-4">`;                        str += `<div class="col-lg-3">`;                        str += `<div class="row row-cards">`;                        str += `<div class="col-12">`;                        str += `<div class="card-deck">`;                        str += `<div class="card">`;                        str += `<div  class="card-body text-center ">`;                        str += `<h5 class="card-title text-center">`+result[i].stugronm+`</h5>`;                        str += `<h6 class="card-subtitle mb-2 text-muted text-uppercase badge bg-purple-lt">@`+result[i].branchnm+`&nbsp;-&nbsp;`+result[i].cournm+`</h6>`;                        str += `<ul class="list-group mt-3 mb-3" style="text-align: justify">`;                        str +=`<li class="list-group-item list-group-item-success">                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="11" r="3" /><path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z" /></svg>&nbsp;&nbsp;`+result[i].branchcamnm+`</li>`;                        str +=`<li class="list-group-item list-group-item-success">                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="18" y2="6.01" /><path d="M18 13l-3.5 -5a4 4 0 1 1 7 0l-3.5 5" /><polyline points="10.5 4.75 9 4 3 7 3 20 9 17 15 20 21 17 21 15" /><line x1="9" y1="4" x2="9" y2="17" /><line x1="15" y1="15" x2="15" y2="20" /></svg>&nbsp;&nbsp;`+result[i].address+`</li>`;                        str += `</ul>`;                        str += ` <div class="d-flex justify-content-center"><a onclick="findStudentInGroup(this)" class="card-link btn btn-link btn-block" style="text-decoration: none !important; font-weight:600; text-transform: uppercase" data-bs-toggle="modal"                            data-bs-target="#modal-create-studentgroup">STUDENTS LIST<input type="hidden" value="`+result[i].stugroid+`"/></a></div>`                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                    }else{                        str += `<div class="col-lg-3">`;                        str += `<div class="row row-cards">`;                        str += `<div class="col-12">`;                        str += `<div class="card-deck">`;                        str += `<div class="card">`;                        str += `<div  class="card-body text-center ">`;                        str += `<h5 class="card-title text-center">`+result[i].stugronm+`</h5>`;                        str += `<h6 class="card-subtitle mb-2 text-muted text-uppercase badge bg-purple-lt">@`+result[i].branchnm+`&nbsp;-&nbsp;`+result[i].cournm+`</h6>`;                        str += `<ul class="list-group mt-3 mb-3" style="text-align: justify">`;                        str +=`<li class="list-group-item list-group-item-success">                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="11" r="3" /><path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z" /></svg>&nbsp;&nbsp;`+result[i].branchcamnm+`</li>`;                        str +=`<li class="list-group-item list-group-item-success">                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="18" y2="6.01" /><path d="M18 13l-3.5 -5a4 4 0 1 1 7 0l-3.5 5" /><polyline points="10.5 4.75 9 4 3 7 3 20 9 17 15 20 21 17 21 15" /><line x1="9" y1="4" x2="9" y2="17" /><line x1="15" y1="15" x2="15" y2="20" /></svg>&nbsp;&nbsp;`+result[i].address+`</li>`;                        str += `</ul>`;                        str += ` <div class="d-flex justify-content-center"><a onclick="findStudentInGroup(this)" class="card-link btn btn-link btn-block" style="text-decoration: none !important; font-weight:600; text-transform: uppercase" data-bs-toggle="modal"                        data-bs-target="#modal-create-studentgroup">STUDENTS LIST<input type="hidden" value="`+result[i].stugroid+`"/></a></div>`                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                        str += `</div>`;                    }                    for(let j = 0; j < number.length; j++){                        if(number[j] === i){                            str += `</div>`;                        }                    }                }                $('#renderSG').html(str);            }else{                Swal.fire({                    title: 'No Data',                    icon: 'warning',                    width: 600,                    padding: '3em',                    background: '#fff',                    backdrop: `                      rgba(0,0,123,0.4)                      url("/dist/img/teachers/nyan-cat.gif")                      left top                      no-repeat                    `                });                $('#renderSG').html('');            }        }    });});$(document).ready(function(){    getAllBranchSearch();    $("#divBranchStudentGroupS").hide();    $("#divCoursesStudentGroupS").hide();    $('#optionSearchSG').val('allOptionSearchSG');    runFirst();});