const formAdd = document.querySelector('#formAddNew');const formChange = document.querySelector('#formChangeClass');const formRelearn = document.querySelector('#formLearnAgain');const chooseAll = document.querySelector('#chooseAll');const changeChooseAll = document.querySelector('#ChangechooseAll');const btnsearch = document.querySelector('#btnsearch');const searchrollnum = document.querySelector('#rollnum');const learnagainsubject = document.querySelector('#LearnAgainSubject');const learnagainstudentgroup = document.querySelector('#LearnAgainstugroid')const maxStudent = 10;var a = '';$(document).ready(function () {    //show all course    getAllCourses('Courses');    getAllCourses('ChangeCourses');    getAllCourses('indexCourses');});/* * index */$('#indexCourses').on('change', function () {    getAllCoursesForIndex()});//get All coursefunction getAllCoursesForIndex() {    $.ajax({        url: '/api/admin/studentclass/findAllStudentGroupByCourse/'+ $('#indexCourses').val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '';            if(result!=''){                for (var i in result) {                    option += ' <div class="accordion-item"><h2 class="accordion-header" id="heading' + result[i].stugroid + '">';                    option += ' <button class="accordion-button collapsed" onclick="getStudentindex(' + result[i].stugroid + ',\''+result[i].stugronm+'\',\''+result[i].branchcamnm+'\')" style="font-weight:900" type="button" data-bs-toggle="collapse" data-bs-target="#collapse' + result[i].stugroid + '" aria-expanded="true" aria-controls="collapse' + result[i].stugroid + '">';                    option += '' + result[i].stugronm + '_('+result[i].branchcamnm+')</button>';                    option += '</h2>';                    option += '<div id="collapse' + result[i].stugroid + '" class="accordion-collapse collapse " aria-labelledby="headingOne' + result[i].stugroid + '" data-bs-parent="#accordionExample">';                    option += '<div class="accordion-body" id="accobody' + result[i].stugroid + '">';                    option += '</div></div></div>';                }            }            $("#accordionExample").html(option);        }    });};function getStudentindex(stugroid,stugroname,branch){    $.ajax({        url: '/api/admin/studentclass/findAllStudentForIndex/' + stugroid,        type: "GET",        datatype: "JSON",        data: '',        success: function (result2) {            var option2 = '';            console.log('data2:'+stugroid);            option2 += '<table id="tabledb1"  class="table table-vcenter card-table table-hover table-striped display">';            option2 += '<thead>';            option2 += '<tr>';            option2 += '<th>No.</th>';            option2 += '<th>Student Rollnum</th>';            option2 += '<th>Student name</th>';            option2 += '<th>Student group</th>';            option2 += '<th>Branch</th>';            option2 += '<th>Status</th>';            option2 += '</tr>';            option2 += '</thead>';            for (var e in result2) {                option2 += '<tr>';                option2 += '<td >' + (+e+1) + '</td>';                option2 += '<td>' + result2[e].rollnum + '</td>';                option2 += '<td>' + result2[e].fullnm + '</td>';                option2 += '<td>' + stugroname + '</td>';                option2 += '<td>' + branch + '</td>';                if(result2[e].stustatus === 'learn again'){                    option2 += '<td><span class="badge bg-yellow">' + result2[e].stustatus + '</span></td>';                }else{                    option2 += '<td><span class="badge bg-blue">' + result2[e].stustatus + '</span></td>';                }                option2 += '</tr>';            }            option2 += '<tbody>';            option2 += '</tbody>';            option2 += '</table>';            $('#accobody' + stugroid).html(option2);            $('table.display').DataTable({                dom: '<"tabletil">Bfrtip',                bPaginate: false,                buttons: [                    {                        extend: 'excelHtml5',                        exportOptions: {                            columns: ':visible'                        }                    },                    {                        extend: 'pdfHtml5',                        exportOptions: {                            columns: ':visible'                        }                    },                    'colvis'                ]            });        }    });}/* * end index *//* * validate */const required = value => value === '' ? false : true;const showError = (input, message) => {    const formField = input.parentElement;    input.classList.remove('is-valid');    input.classList.add('is-invalid');    input.focus();    formField.classList.remove('success');    formField.classList.add('error');    // show message error with wrong input    const error = formField.querySelector('small');    error.classList.add('text-danger');    error.textContent = message;};const showSuccess = (input) => {    const formField = input.parentElement;    input.classList.remove('is-invalid');    input.classList.add('is-valid');    formField.classList.remove('error');    formField.classList.add('success');    // hide message error    const error = formField.querySelector('small');    error.textContent = ''; // assign null value to hide error message};const showNormal = (input) => {    const formField = input.parentElement;    input.classList.remove('is-invalid');    input.classList.remove('is-valid');    formField.classList.remove('error');    formField.classList.remove('success');    // hide message error    const error = formField.querySelector('small');    error.textContent = ''; // assign null value to hide error message};// Validate searchconst checkSearch = () => {    let valid = false;    const rollnum = searchrollnum.value;    if (!required(rollnum)) {        showError(searchrollnum, 'Please enter rollnum');    } else {        showSuccess(searchrollnum);        valid = true;    }    return valid;};// Validate learn again subjectconst checkLearnAgainSubject = () => {    let valid = false;    const subj = learnagainsubject.value;    if (!required(subj)) {        showError(learnagainsubject, 'Please select subject');    } else {        showSuccess(learnagainsubject);        valid = true;    }    return valid;};// Validate learn again student groupconst checkLearnAgainStudentGroup = () => {    let valid = false;    const stugro = learnagainstudentgroup.value;    if (!required(stugro)) {        showError(learnagainstudentgroup, 'Please select student group');    } else {        showSuccess(learnagainstudentgroup);        valid = true;    }    return valid;};/* * end validate *///select All functionfunction selectAll(selectAllId, selectElementClassName, tableId, StudentGroupId, limit) {    //call ajax to get the number os student in class    $.ajax({        url: '/api/admin/studentclass/getNumberOfStudentInClass/' + StudentGroupId,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            //get the default value of the selcted check box = the number of student in database            var currentSelect = result;            //trigger function when select all is checked            if ($('#' + selectAllId).is(":checked") === true) {                //firt loop to count current checkbox has been checked                $("#" + tableId + " tbody tr").each(function (i, el) {                    if ($(el).find('.' + selectElementClassName).is(":checked") === true) {                        currentSelect++;                    }                });                //second loop check the remain checkbox untilreach the limit and ignore the checked checkbox                $("#" + tableId + " tbody tr").each(function (i, el) {                    if ($(el).find('.' + selectElementClassName).is(":checked") === true) {                        return;                    } else {                        if (!(currentSelect === limit)) {                            //checked the check box if currentSelect has not reach limit                            $(el).find('.' + selectElementClassName).prop('checked', true);                            currentSelect++;                        } else if (currentSelect === limit) {                            //if the number of student in database = limit pop up alert and uncheck the select all                            if (result === limit) {                                //set select all checkbox to uncheck                                $('#' + selectAllId).prop('checked', false);                                //popup alert                                Swal.fire({                                    position: 'center',                                    icon: 'warning',                                    title: 'The current number of students has reached its maximum',                                    showConfirmButton: false,                                    timer: 1000                                });                            }                        }                    }                });                //trigger function when select all is unchecked            } else if ($('#' + selectAllId).is(":checked") === false) {                $("#" + tableId + " tbody tr").each(function (i, el) {                    //uncheck all check box                    $(el).find('.' + selectElementClassName).prop('checked', false);                });            }            //get current number of checkbox has been checked            console.log($('.' + selectElementClassName + ':checked').length)        }    });};/* * ADD NEW STUDENT TO NEW CLASS *///show add new student to new class//show course option$("#Courses").on("change", function () {    //remove and show new student group    getNewStudentGroupByCourse($(this).val(), 'stugroid');    $("#stuList tbody").html('');    //clear student amount in class    $("#stuList thead #studentAmount").html('');});//show student group option$("#stugroid").on("change", function () {    getNewStudent();});//end show add new student to new class//get All coursefunction getAllCourses(course) {    $.ajax({        url: '/api/admin/studentclass/findAllCourse',        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="" disabled selected>---select course---</option>';            for (var i in result) {                option += '<option class="courseOption" value="' + result[i].courid + '">' + result[i].cournm + '</option>';            }            $("#" + course).html(option);        }    });};//get new Student Group by Course idfunction getNewStudentGroupByCourse(courseId, stugroid) {    //get list of student group which are not    $.ajax({        url: '/api/admin/studentclass/findNewStudentgroup/' + courseId,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="" disabled selected>--Select Student Group--</option>';            for (var i in result) {                option += '<option class="stuGroupOption" value="' + result[i].stugroid + '">' + result[i].stugronm + '</option>';            }            $("#" + stugroid).html(option);        }    });};//get Student Group by Course idfunction getNewStudent() {    $('#chooseAll').prop('checked', false)    //call ajax to get the number os student in class    $.ajax({        url: '/api/admin/studentclass/getNumberOfStudentInClass/' + $("#stugroid").val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option1 = '';            if (result === maxStudent) {                option1 += '<p colspan="4" class="text-success">The number of students in this class is full </p>';            } else {                option1 += '<p colspan="4" class="font-weight-bold">Current Student in class: <span class="text-info">' + result + ' </span>students<br>';                option1 += 'Can add up to <span class="text-success">' + (maxStudent - result) + '</span> students for maximum</p>';                //get list of student who are not in any class                $.ajax({                    url: '/api/admin/studentclass/NewStudent/'+$("#stugroid").val(),                    type: "GET",                    datatype: "JSON",                    data: '',                    success: function (result) {                        var option2 = '';                        for (var i in result) {                            option2 += '<tr>';                            option2 += '<td >' + (+i+1) + '</td>';                            option2 += '<td><input class="form-check-input chooseStudent" type="checkbox"></td>';                            option2 += '<td class="stuid" hidden>' + result[i].stuid + '</td>';                            option2 += '<td>' + result[i].rollnum + '</td>';                            option2 += '<td>' + result[i].fullnm + '</td>';                            option2 += '</tr>';                        }                        $("#stuList tbody").html(option2);                    }                });            }            $("#studentAmount").html(option1);            $("#studentAmountHolder").prop('hidden', false);        }    });};//for add new//Select until the number of student = maxStudentchooseAll.addEventListener('change', function (e) {    //get student group id    var studentGroupId = $("#stugroid").val();    //call select all function    selectAll('chooseAll', 'chooseStudent', 'stuList', studentGroupId, maxStudent);});//function limit the number of selected studentformAdd.addEventListener('input', function (e) {    var studentGroupId = $("#stugroid").val();    if ($(e.target).hasClass('chooseStudent')) {        $.ajax({            url: '/api/admin/studentclass/getNumberOfStudentInClass/' + studentGroupId,            type: "GET",            datatype: "JSON",            data: '',            success: function (result) {                if ($('.chooseStudent:checked').length > (maxStudent - result)) {                    $(e.target).prop('checked', false);                    Swal.fire({                        position: 'center',                        icon: 'warning',                        title: 'The current number of students has reached its maximum',                        showConfirmButton: false,                        timer: 1000                    });                }            }        });    }});//submit add new studentformAdd.addEventListener('submit', function (e) {    e.preventDefault();    var Choose = 0;    $("#stuList tbody tr").each(function (i, el) {        //trigger ajax when checkbox is checked        if ($(el).find('.chooseStudent').is(":checked") === true) {            //data for create            var data = {                regissubj: 0,                cass: 'current class',                restudytime: null,                semstatus: 0,                stuid: +$(el).find('.stuid').text(),                stugroid: +$('#stugroid').val(),            };            //send data to create function in rest controller            $.ajax({                type: 'POST',                url: '/api/admin/studentclass/postCreate',                data: JSON.stringify(data),                contentType: 'application/json',                success: function (result) {                    Swal.fire({                        position: 'center',                        icon: 'success',                        title: 'Success',                        showConfirmButton: false,                        timer: 1000                    });                    setTimeout("location.reload(true);", 1000);                },                error: function () {                    Swal.fire({                        position: 'center',                        icon: 'error',                        title: 'Error',                        showConfirmButton: false,                        timer: 1000                    });                }            });            Choose++;        }    });    //popup alert if there is no checkbox has been checked    if (Choose === 0) {        Swal.fire({            position: 'center',            icon: 'error',            title: 'No student Has been chosen',            showConfirmButton: false,            timer: 1000        });    }});/* * END ADD NEW STUDENT TO NEW CLASS *//* * CHANGE CLASS *///Show change class$("#ChangeCourses").on("change", function () {    //remove and show new student group    getStudentGroupByCourse($(this).val(), 'Changestugroid');    $("#ChangestuList tbody").html('');    $("#ChangestugroidDestination").html('<option value="" disabled selected>--Not found available class--</option>');    //clear student amount in class    $("#ChangestuList thead #studentAmount").html('');    $("#ChangeStudentGroupDestinationInfoHolder").prop("hidden", true);    $("#ChangeStudentGroupDestinationAmountHolder").prop("hidden", true);    $("#ChangestudentInfoHolder").prop("hidden", true);    $("#ChangestuListHolder").prop("hidden", true);});//show student group option$("#Changestugroid").on("change", function () {    getCurrentStudent($("#ChangeCourses").val(), $(this).val());    $("#ChangestugroidDestination").html('');    $("#ChangeStudentGroupDestinationInfoHolder").prop("hidden", true);    $("#ChangeStudentGroupDestinationAmountHolder").prop("hidden", true);    //clear student group in class    $("#ChangestuList thead #studentAmount").html('');    $("#ChangeStudentGroupDestinationInfoHolder").prop("hidden", true);    $("#ChangeStudentGroupDestinationAmountHolder").prop("hidden", true);    $("#ChangestudentInfoHolder").prop("hidden", true);    $("#ChangestuListHolder").prop("hidden", true);});//show student group destination option$("#ChangestugroidDestination").on("change", function () {    $("#ChangeStudentGroupDestinationInfoHolder").prop("hidden", false);    $("#ChangeStudentGroupDestinationInfo").html('<p class="text-primary">All selected student will be add to this class in next subject</p><p class="text-primary">Next subject: <span class="">' + $("#nextsubjectnm").val() + '</span></p>');    $("#ChangeStudentGroupDestinationAmountHolder").prop("hidden", false);    $("#ChangeStudentGroupDestinationAmount").html();    $.ajax({        url: '/api/admin/studentclass/getNumberOfStudentInClass/' + $("#ChangestugroidDestination").val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option1 = '';            if (result === maxStudent) {                option1 += '<p colspan="4" class="text-success">The number of students in this class is full </p>';            } else {                option1 += '<p colspan="4" class="font-weight-bold">Current Student in class: <span class="text-info">' + result + ' </span>students<br>';                option1 += 'Can add up to <span class="text-success">' + (maxStudent - result) + '</span> students for maximum</p>';                //get list of student who are not in any class            }            $("#ChangeStudentGroupDestinationAmount").html(option1);            $("#ChangeStudentGroupDestinationAmountHolder").prop('hidden', false);        }    });});//end show change class//get Student Group by Course idfunction getCurrentStudent(courseid, stugroid) {    $('#ChangechooseAll').prop('checked', false);    //get list of all student in class    $.ajax({        url: '/api/admin/studentclass/getCurrentStudent/' + stugroid,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            //show the notify card            $("#ChangestudentInfoHolder").prop("hidden", false);            if (result != "") {                //check if current class has completed subject or not                $.ajax({                    url: '/api/admin/studentclass/checkSubjectEnd/' + $("#Changestugroid").val(),                    type: "GET",                    datatype: "JSON",                    data: '',                    success: function (result2) {                        //if result = 0 ==> complete                        if (result2 === 0) {                            $("#ChangestuListHolder").prop("hidden", false);                            var option = '';                            for (var i in result) {                                option += '<tr>';                                option += '<td>' + (+i+1) + '</td>';                                option += '<td><input class = "form-check-input ChangechooseStudent" type = "checkbox"></td>';                                option += '<td hidden class = "Changestuid">' + result[i].stuid + '</td>';                                option += '<td>' + result[i].rollnum + '</td>';                                option += '<td>' + result[i].fullnm + '</td>';                                option += '</tr>';                            }                            //show table                            $("#ChangestuList tbody").html(option);                            // show notification information                            $("#ChangestudentInfo").html('<p class="text-success">All Student in this list has been complete current subject please select available class below</p>');                            //get all avalable student group                            getAvailableStudentGroup(courseid, stugroid, "ChangestugroidDestination");                        } else {                            // show notification information                            $("#ChangestudentInfo").html('<p class="text-danger">This class has not complete current subject yet</p>');                        }                    },                    error: function () {                        $("#ChangestuListHolder").prop("hidden", true);                        // show notification information                        $("#ChangestudentInfo").html('<p class="text-danger">This class has not been start yet</p>');                        $("#ChangestuList tbody").html('');                    }                });            } else {                //hide table                $("#ChangestuListHolder").prop("hidden", true);                // show notification information                $("#ChangestudentInfo").html('<p class="text-warning">This Student Group is empty </p>');            }        }    });};//get Student Group by Course idfunction getStudentGroupByCourse(courseId, stugroid) {    //get list of student group which are not    $.ajax({        url: '/api/admin/studentclass/getAllStudentGroup/' + courseId,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="" disabled selected>--Select Student Group--</option>';            for (var i in result) {                option += '<option class="stuGroupOption" value="' + result[i].stugroid + '">' + result[i].stugronm + '</option>';            }            $("#" + stugroid).html(option);        }    });};//get available Student Group for change classfunction getAvailableStudentGroup(courseId, stugroid, studentGroupId) {    $('#ChangechooseAll').prop('checked', false)    //get list of student group which are not    $.ajax({        url: '/api/admin/studentclass/getAvailableStudentGroup/' + courseId + '/' + stugroid,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '<option value="" disabled selected>--Select Student Group--</option>';            for (var i in result) {                option += '<option class="stuGroupDestinationOption" value="' + result[i].stugroid + '">' + result[i].stugronm + '</option>';                $("#nextsubjectnm").val(result[i].nextSubjnm);                $("#nextsubjectid").val(result[i].nextSubjid);            }            $("#" + studentGroupId).html(option);            $("#ChangeStudentGroupDestinationInfo").html('<p class="">All selected student will be add to <span class="text-primary">' + result2[i].stugronm + '</span> class in next subject</p><p class="">Next subject: <span class="text-primary">' + $("#nextsubjectnm").val() + '</span></p>');        }    });};//for change class//Select until the number of student = maxStudentchangeChooseAll.addEventListener('change', function (e) {    //get student group id    var studentGroupId = $("#ChangestugroidDestination").val();    if (studentGroupId === null) {        $('#ChangechooseAll').prop('checked', false);        Swal.fire({            position: 'center',            icon: 'error',            title: 'Please select destination class first',            showConfirmButton: false,            timer: 1000        });    } else {        //call select all function        selectAll('ChangechooseAll', 'ChangechooseStudent', 'ChangestuList', studentGroupId, maxStudent);    }});//function limit the number of selected studentformChange.addEventListener('input', function (e) {    var studentGroupId = $("#ChangestugroidDestination").val();    if ($(e.target).hasClass('ChangechooseStudent')) {        if (studentGroupId === null) {            $(e.target).prop('checked', false);            Swal.fire({                position: 'center',                icon: 'error',                title: 'Please select destination class first',                showConfirmButton: false,                timer: 1000            });        } else {            $.ajax({                url: '/api/admin/studentclass/getNumberOfStudentInClass/' + studentGroupId,                type: "GET",                datatype: "JSON",                data: '',                success: function (result) {                    if ($('.ChangechooseStudent:checked').length > (maxStudent - result)) {                        $(e.target).prop('checked', false);                        Swal.fire({                            position: 'center',                            icon: 'warning',                            title: 'The current number of students has reached its maximum',                            showConfirmButton: false,                            timer: 1000                        });                    }                }            });        }    }});//submit change studentformChange.addEventListener('submit', function (e) {    e.preventDefault();    var Choose = 0;    $("#ChangestuList tbody tr").each(function (i, el) {        //trigger ajax when checkbox is checked        if ($(el).find('.ChangechooseStudent').is(":checked") === true) {            //data for create            var data = {                regissubj: $("#nextsubjectid").val(),                restudytime: null,                semstatus: 0,                cass: "current class",                stuid: +$(el).find('.Changestuid').text(),                newstugroid: +$('#ChangestugroidDestination').val(),                oldstugroid: +$('#Changestugroid').val()            };            //send data to create function in rest controller            $.ajax({                type: 'POST',                url: '/api/admin/studentclass/postChangeClass',                data: JSON.stringify(data),                contentType: 'application/json',                success: function (result) {                    Swal.fire({                        position: 'center',                        icon: 'success',                        title: 'Success',                        showConfirmButton: false,                        timer: 1000                    });                    setTimeout("location.reload(true);", 1000);                },                error: function () {                    Swal.fire({                        position: 'center',                        icon: 'error',                        title: 'Error',                        showConfirmButton: false,                        timer: 1000                    });                }            });            Choose++;        }    });    //popup alert if there is no checkbox has been checked    if (Choose === 0) {        Swal.fire({            position: 'center',            icon: 'error',            title: 'No student Has been chosen',            showConfirmButton: false,            timer: 1000        });    }});/* * END CHANGE CLASS *//* * LEARN AGAIN */$('#LearnAgainSubject').on('change', function () {    getStudentGroup();});$('#LearnAgainstugroid').on('change', function () {});//get Student Group by Course idfunction getLearnAgainSubject() {    //get list of student group which are not    $.ajax({        url: '/api/admin/studentclass/getCompleteSubject/' + $('#stuid').val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '';            option += '<option value="" disabled selected>--Select Subject--</option>';            for (var i in result) {                option += '<option class="subjectOption" value="' + result[i].subjdetailsid + '">' + result[i].subjnm + '</option>';                $("#LearnAgainSubject").html(option);                $("#LearnAgainstugroid").html('<option value="" disabled selected>--Please select subject first--</option>');            }        },        error: function () {            $("#LearnAgainSubject").html('<option value="" disabled selected>NO SUBJECT AVAILABLE</option>');            $("#LearnAgainstugroid").html('<option value="" disabled selected>NO STUDENT GROUP AVAILABLE</option>');        }    });};//get Student Group by Course idfunction getStudentGroup() {    //get list of student group which are not    $.ajax({        url: '/api/admin/studentclass/findAvailableStudentGroupsForReLearning/' + $('#LearnAgainSubject').val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var option = '';            option += '<option value="" disabled selected>--Select Student Group--</option>';            for (var i in result) {                option += '<option class="stugroOption" value="' + result[i].stugroid + '">' + result[i].stugronm + '</option>';            }            $("#LearnAgainstugroid").html(option);        },        error: function () {            $("#LearnAgainstugroid").html('<option value="" disabled selected>NO STUDENT GROUP AVAILABLE</option>');        }    });};btnsearch.addEventListener('click', function (e) {    $.ajax({        url: '/api/admin/studentclass/findStudentByRollnum/' + $('#rollnum').val(),        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            $("#LearnAgainStudentInfoHolder").prop('hidden', false);            if (result.stuid != 0) {                $("#StudentNotFound").prop('hidden', true);                $("#LearnAgainStudentInfo").prop('hidden', false);                $('#stuid').val(result.stuid);                $('#gender').val(result.gender);                $('#stufullnm').val(result.fullnm);                $('#stumail').val(result.email);                $('#mobphone').val(result.mobphone);                $('#stustatus').val(result.stustatus);                $('#major').val(result.major);                $('#address').val(result.address);                getLearnAgainSubject();            } else if (result.stuid == 0) {                $('#stuid').val(0);                $("#StudentNotFound").prop('hidden', false);                $("#LearnAgainStudentInfo").prop('hidden', true);                $("#LearnAgainSubject").html('<option value="" disabled selected>NO SUBJECT AVAILABLE</option>');                $("#LearnAgainstugroid").html('<option value="" disabled selected>NO STUDENT GROUP AVAILABLE</option>');            }        }    });})//submit learn again studentformRelearn.addEventListener('submit', function (e) {    e.preventDefault();    let searchValid = checkSearch(),        learnAgainSubjectValid = checkLearnAgainSubject(),        learnAgainStudentGroupValid = checkLearnAgainStudentGroup();    let formRelearnvalid = searchValid && learnAgainSubjectValid && learnAgainStudentGroupValid;    if (formRelearnvalid === true) {        //trigger ajax when checkbox is checked        //data for create        var data = {            regissubj: $("#LearnAgainSubject").val(),            restudytime: null,            semstatus: 0,            cass: "learn again",            stuid: +$('#stuid').val(),            newstugroid: +$('#LearnAgainstugroid').val()        };        //send data to create function in rest controller        $.ajax({            type: 'POST',            url: '/api/admin/studentclass/postLearnAgain',            data: JSON.stringify(data),            contentType: 'application/json',            success: function (result) {                Swal.fire({                    position: 'center',                    icon: 'success',                    title: 'Success',                    showConfirmButton: false,                    timer: 1000                });                setTimeout("location.reload(true);", 1000);            },            error: function () {                Swal.fire({                    position: 'center',                    icon: 'error',                    title: 'Error',                    showConfirmButton: false,                    timer: 1000                });            }        });    }});/* * END LEARN AGAIN */