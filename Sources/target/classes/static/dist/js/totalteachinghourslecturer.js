$(document).ready(function () {    getYear();    getMonth();    // getAllLecturer();});// -------------------------------------------------------Search Date To List Teaching Hours// Get Yearvar listYear = [1990];function getYear() {    var startYear = 1990;    var CurrentYear = new Date().getFullYear();    console.log(CurrentYear - 1990);    for (let index = 0; index < (CurrentYear - 1990); index++) {        startYear += 1;        listYear.push(startYear);    }    var option = '<option value="0" selected>--- Select Year ---</option>';    for (let index = listYear.length - 1; index > 0; --index) {        option += '<option value="' + listYear[index] + '">' + listYear[index] + '</option>';    }    $("#YearTeachingHoursS").html(option);}// Get Monthfunction getMonth() {    var option = '<option value="0" selected>--- Select Month ---</option>';    option += '<option value="1">January</option>' +        '<option value="2">Fedruary</option>' +        '<option value="3">March</option>' +        '<option value="4">April</option>' +        '<option value="5">May</option>' +        '<option value="6">June</option>' +        '<option value="7">July</option>' +        '<option value="8">August</option>' +        '<option value="9">September</option>' +        '<option value="10">October</option>' +        '<option value="11">November</option>' +        '<option value="12">December</option>';    $("#MonthTeachingHoursS").html(option);}// // Get All Lecturer// function getAllLecturer() {//     $.ajax({//         url: '/api/admin/teacher/getAllLecture',//         type: "GET",//         datatype: "JSON",//         data: '',//         success: function (result) {//             var option = '<option value="0" selected>--- Select Lecturer ---</option>';//             for (var i in result) {//                 option += '<option class="courseOption" value="' + result[i].lecturid + '">' + result[i].rollnum + ' - ' + result[i].fullnm + '</option>';//             }//             $("#LecturerTeachingHoursS").html(option);//         }//     });// }var groupByrenderTH = [];// Group BY Render Teaching Hoursfunction groupByRenderTeachingHours(yearVal, monthVal) {    $.ajax({        url: '/api/admin/teacher/countRenderTeachingHoursQuang/' + yearVal + '/' + monthVal,        type: "GET",        datatype: "JSON",        data: '',        async: false,        success: function (result) {            for (let index = 0; index < result.length; index++) {                var obj = {};                obj.amount = result[index].slice(0, result[index].indexOf('='));                obj.stugronm = result[index].slice(result[index].indexOf('=') + 1, result[index].length);                groupByrenderTH.push(obj);            }        }    });    return groupByrenderTH;}$("#btnSearchTeachingHours").click(function () {    groupByrenderTH=[];    // var teaid = $("#LecturerTeachingHoursS option:selected").val();    var yearVal = $("#YearTeachingHoursS option:selected").val();    var monthVal = $("#MonthTeachingHoursS option:selected").val();    groupByRenderTeachingHours(yearVal, monthVal);    console.log(groupByrenderTH);    $.ajax({        url: '/api/admin/teacher/renderTeachingHoursQuang/' + yearVal + '/' + monthVal,        type: "GET",        datatype: "JSON",        data: '',        success: function (result) {            var blockTT = '<div class="table-responsive"><table id="tabledb1" class="table table-vcenter table-bordered card-table' +                ' table-striped display">';            if (Number(result.length) > 0) {                var lecname = ($("#LecturerTeachingHoursS option:selected").text()).slice(($("#LecturerTeachingHoursS option:selected").text()).indexOf('-')+2,($("#LecturerTeachingHoursS option:selected").text()).length);                blockTT += '<thead><td colspan="5" class="ttSum h3" >Total Teaching Hours Of Lecturer ' + lecname + ' In '                    + $("#MonthTeachingHoursS option:selected").text() + ' ' + $("#YearTeachingHoursS option:selected").val() + ' By Student Group</td></thead>';            }            blockTT += '<thead><tr><th>No.</th><th>Student Group</th><th>Branch</th><th>Campus</th><th>Hours</th></tr></thead><tbody>';            if (Number(result.length) > 0) {                for (var index = 0; index < result.length; index++) {                    blockTT += '<tr><td>' + (index + 1) +                        '</td><td>' + result[index].stugronm +                        '</td><td>' + result[index].branchnm +                        '</td><td>' + result[index].campusnm + '</td>';                    for (let item = 0; item < groupByrenderTH.length; item++) {                        if (result[index].stugronm == groupByrenderTH[item].stugronm) {                            blockTT += '<td>' + (groupByrenderTH[item].amount) * 2 + ' Hours' + '</td>';                            break;                        }                    }                    blockTT += '</tr>';                }            } else {                blockTT += '<tr><td colspan="5" style="text-align: center; vertical-align: middle;">No Data</td></tr>';            }            blockTT += '</tbody></table></div>';            $("#renderTH").html(blockTT);        }    });});